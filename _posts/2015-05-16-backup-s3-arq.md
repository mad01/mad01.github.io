---
layout: post
title: encrypted backup with arq amazon and s3 glacier
date: 2015-05-16
categories: backup arq aws s3 glacier
---

As most that have any knowledge of IT and tech. Backup is a big topic also encryption now in the later days when there have been a lot of talk about that our data can be read if we are not using encryption everywhere. Now when most of os have most of our life in a digital form the information that we store in our phones, computers are more then ever a target for criminals and the data is important to us. Not only that electronics to break and when that day comes none will be happy if all there personal data, files, photos are lost due to a broken phone or computer. This is why backup is such a important thing. Doing backup right is not that hard. running around with a external drive or usb memory is not a god option, as a main backup. You will forget to do it, the best is to have one or multiple incremental backups that is running in the background so you don’t have to think about all the time. You should of course try to do restores from the backups every now and then to be sure that they are working and running as expected. 

I have a few different backups running all the time. a note i am a mac user and i will be relating to solutions that is working with a mac and os x. Some of them might work with other platforms like [arq](https://www.arqbackup.com/) . I am at this moment using two offline external hard drives, with time machine, one network drive with time machine for incremental backups and [crashplan](http://www.code42.com/crashplan/) for a online backup. What all of them have in common is that they are supporting encryption on the client side. A note is that i also relying on the os x `filevault` to encrypt my macs. I have recently taken a decision to start to use a application called [arq](https://www.arqbackup.com/) that allows me to backup to a few different storage options like Amazon s3 and glacier, Dropbox, Google Drive, Google Cloud Storage, SFTP, DreamObjects, Microsoft OneDrive and other S3-Compatible Services. This is a few good options like you can se. What `arq` is providing that others like [backblaze](https://www.backblaze.com/) and [crashplan](http://www.code42.com/crashplan/) does not, is that i am relaying on a provider like amazon that have proven that they are a good cloud provider that is most likely not going to end there service any time soon.  I am also not capped in any way when using `Amazon` i can upload all the data i need in more or less line speed of my local network and ISP uplink. Since i am storing my data in `Amazon` at one datacenter i can also replicate the s3 bucket that i am using in combination with glacier to any other part of the world if i like where `Amazon` have datacenters. `arq` also provides me with client side encryption that allows my data to be encrypted before the data leaves by mac. So all the data that is stored in `Amazon` is encrypted and can’t be accessed or restored whiteout my encryption key. 

The way you setup the `arq` backup is in my case to my amazon aws account, creating a AMI for the backup. When adding a destination `Amazon s3 glacier` to backup to in `arq` i am just providing the AMI keys and `arq` will create the s3 bucket and the needed rules to move all files in to `glacier` . When selecting configuring the backup it’s a bit different from `crashplan` and `Time Machine`  where they backup the full user and you have to exclude what you don’t need backed up. That is a lot that you don’t need. In `arq` you select every folder or file that you like to backup and if you are using `Amazon` you get to select if you want the data to be stored in `s3` or `glacier` you can have the same files stored in  `s3` and `glacier` if you like. Since `glacier` are slow "up to 24h” to restore you and have the files that you might need instant restore of in s3 also, you just add the same folder or files again and select s3 as the storage option. 

when it comes to cost the `Amazon s3 glacier` option might not be the cheapest but it’s worth. Due to the proven reliability of the service that `Amazon` have provided over all the years as a cloud hosting provider. 

one of the biggest reason for adding a service like `arq` is that Time Machine that i have is not the most persistent it fails every now and then and needs a full backup to be created from scratch.  `crashplan` is also not that fast when it comes to restore some bigger amount of data. Using a cloud provider gives me the option to backup when ever i have a internet connection.

what you should take away from this is that backup and encrypted versions of it is important. Even if you are not using encryptions in the backup you should at least backup to one place at home and one remote. If you aren’t doing it now it’s about time to start. You will have data loss time time and that is when the backup will be so valuable.    